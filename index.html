<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Code Assistant</title>
    <style>
        :root {
          --bg-primary: #1e1e1e;
          --bg-secondary: #2d2d30;
          --bg-tertiary: #252526;
          --border-color: #3e3e42;
          --text-primary: #d4d4d4;
          --text-secondary: #cccccc;
          --text-muted: #6a6a6a;
          --accent-blue: #007acc;
          --accent-green: #81c784;
          --accent-orange: #ffb74d;
          --accent-cyan: #4fc3f7;
        }

        * {
          box-sizing: border-box;
        }

        body {
          margin: 0;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
          background: var(--bg-primary);
          color: var(--text-primary);
          height: 100vh;
          overflow: hidden;
        }

        .app {
          display: flex;
          flex-direction: column;
          height: 100vh;
        }

        .app-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 24px;
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          min-height: 48px;
        }

        .app-title {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 16px;
          font-weight: 600;
          color: #ffffff;
        }

        .title-icon {
          font-size: 20px;
        }

        .panel-tabs {
          display: flex;
          gap: 4px;
        }

        .tab {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 16px;
          background: transparent;
          border: 1px solid transparent;
          color: var(--text-secondary);
          cursor: pointer;
          border-radius: 6px;
          font-size: 13px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .tab:hover {
          background: var(--border-color);
          color: #ffffff;
        }

        .tab.active {
          background: var(--accent-blue);
          color: #ffffff;
          border-color: var(--accent-blue);
        }

        .app-content {
          flex: 1;
          min-height: 0;
          position: relative;
        }

        .panel {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: none;
        }

        .panel.active {
          display: flex;
          flex-direction: column;
        }

        /* Terminal Styles */
        .terminal-panel {
          background: var(--bg-primary);
          color: var(--text-primary);
          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        .terminal-header {
          padding: 12px 16px;
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          display: flex;
          align-items: center;
        }

        .terminal-title {
          display: flex;
          align-items: center;
          gap: 8px;
          font-weight: 500;
          font-size: 14px;
        }

        .terminal-content {
          display: flex;
          flex-direction: column;
          flex: 1;
          min-height: 0;
        }

        .terminal-messages {
          flex: 1;
          overflow-y: auto;
          padding: 16px;
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .message {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .message-header {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 12px;
          opacity: 0.7;
        }

        .message-content pre {
          margin: 0;
          white-space: pre-wrap;
          word-wrap: break-word;
          font-family: inherit;
          font-size: 14px;
          line-height: 1.4;
          margin-left: 24px;
        }

        .message-user .message-content {
          color: var(--accent-cyan);
        }

        .message-ai .message-content {
          color: var(--accent-green);
          background: rgba(129, 199, 132, 0.1);
          padding: 12px;
          border-radius: 6px;
          border-left: 3px solid var(--accent-green);
        }

        .terminal-input-form {
          padding: 16px;
          background: var(--bg-secondary);
          border-top: 1px solid var(--border-color);
        }

        .terminal-input-container {
          display: flex;
          align-items: center;
          gap: 8px;
          background: var(--bg-primary);
          border: 1px solid var(--border-color);
          border-radius: 4px;
          padding: 8px 12px;
        }

        .terminal-prompt {
          color: var(--accent-cyan);
          font-weight: bold;
          user-select: none;
        }

        .terminal-input {
          flex: 1;
          background: transparent;
          border: none;
          outline: none;
          color: var(--text-primary);
          font-family: inherit;
          font-size: 14px;
        }

        .terminal-submit {
          background: transparent;
          border: none;
          color: var(--text-muted);
          cursor: pointer;
          padding: 4px;
          border-radius: 3px;
          transition: color 0.2s ease;
        }

        .terminal-submit:hover {
          color: var(--accent-cyan);
          background: rgba(79, 195, 247, 0.1);
        }

        /* Files Panel */
        .files-panel {
          background: var(--bg-tertiary);
          color: var(--text-secondary);
        }

        .file-explorer-header {
          padding: 12px 16px;
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          display: flex;
          align-items: center;
        }

        .file-explorer-title {
          display: flex;
          align-items: center;
          gap: 8px;
          font-weight: 500;
          font-size: 14px;
        }

        .file-list {
          flex: 1;
          overflow-y: auto;
          padding: 8px 0;
        }

        .file-item {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          cursor: pointer;
          transition: background-color 0.2s ease;
          font-size: 14px;
        }

        .file-item:hover {
          background: #2a2d2e;
        }

        .file-item.selected {
          background: #37373d;
        }

        /* Editor Panel */
        .editor-panel {
          background: var(--bg-primary);
          color: var(--text-primary);
          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        .code-editor-header {
          padding: 12px 16px;
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-color);
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .code-editor-title {
          display: flex;
          align-items: center;
          gap: 8px;
          font-weight: 500;
          font-size: 14px;
        }

        .file-language {
          background: var(--accent-blue);
          color: white;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 500;
        }

        .editor-actions {
          display: flex;
          gap: 8px;
        }

        .editor-action {
          background: transparent;
          border: 1px solid var(--border-color);
          color: var(--text-secondary);
          padding: 4px 12px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.2s ease;
        }

        .editor-content {
          display: flex;
          flex: 1;
          min-height: 0;
        }

        .line-numbers {
          background: var(--bg-primary);
          border-right: 1px solid var(--border-color);
          color: var(--text-muted);
          font-size: 14px;
          line-height: 1.4;
          padding: 16px 8px;
          min-width: 50px;
          text-align: right;
          user-select: none;
          overflow: hidden;
        }

        .line-number {
          height: 19.6px;
          display: flex;
          align-items: center;
          justify-content: flex-end;
        }

        .code-textarea {
          flex: 1;
          background: var(--bg-primary);
          border: none;
          outline: none;
          color: var(--text-primary);
          font-family: inherit;
          font-size: 14px;
          line-height: 1.4;
          padding: 16px;
          resize: none;
          white-space: pre;
          overflow-wrap: normal;
          overflow-x: auto;
          tab-size: 2;
        }

        /* Scrollbar styles */
        ::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }

        ::-webkit-scrollbar-track {
          background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
          background: var(--border-color);
          border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
          background: #4a4a4a;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .app-header {
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
            padding: 16px;
          }
          
          .app-title {
            justify-content: center;
          }
          
          .panel-tabs {
            justify-content: center;
          }
          
          .tab {
            flex: 1;
            justify-content: center;
          }
        }
    </style>
</head>
<body>
    <div class="app" id="app">
        <div class="app-header">
            <div class="app-title">
                <span class="title-icon">ü§ñ</span>
                <span>AI Code Assistant</span>
            </div>
            <div class="panel-tabs">
                <button class="tab active" data-panel="terminal">
                    <span class="tab-icon">üíª</span>
                    Terminal
                </button>
                <button class="tab" data-panel="files">
                    <span class="tab-icon">üìÅ</span>
                    Files
                </button>
                <button class="tab" data-panel="editor">
                    <span class="tab-icon">üìù</span>
                    Editor
                </button>
            </div>
        </div>

        <div class="app-content">
            <!-- Terminal Panel -->
            <div class="panel terminal-panel active" id="terminal">
                <div class="terminal-header">
                    <div class="terminal-title">
                        <span>üíª</span>
                        Terminal
                    </div>
                </div>
                <div class="terminal-content">
                    <div class="terminal-messages" id="messages">
                        <div class="message message-system">
                            <div class="message-header">
                                <span class="message-icon">üíª</span>
                                <span class="message-timestamp"></span>
                            </div>
                            <div class="message-content">
                                <pre>AI Code Assistant v1.0.0 initialized.
Type "help" for available commands.</pre>
                            </div>
                        </div>
                    </div>
                    <form class="terminal-input-form" id="terminal-form">
                        <div class="terminal-input-container">
                            <span class="terminal-prompt">$</span>
                            <input type="text" id="terminal-input" class="terminal-input" placeholder="Type a command..." autocomplete="off">
                            <button type="submit" class="terminal-submit">
                                ‚ñ∂
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Files Panel -->
            <div class="panel files-panel" id="files">
                <div class="file-explorer-header">
                    <div class="file-explorer-title">
                        <span>üìÅ</span>
                        Files
                    </div>
                </div>
                <div class="file-list" id="file-list">
                    <div class="file-item file-js" data-file="example.js">
                        <div class="file-icon">üìÑ</div>
                        <span class="file-name">example.js</span>
                    </div>
                    <div class="file-item file-md" data-file="README.md">
                        <div class="file-icon">üìÑ</div>
                        <span class="file-name">README.md</span>
                    </div>
                </div>
            </div>

            <!-- Editor Panel -->
            <div class="panel editor-panel" id="editor">
                <div class="code-editor-header">
                    <div class="code-editor-title">
                        <span>üìù</span>
                        <span class="file-name" id="current-file-name">example.js</span>
                        <span class="file-language" id="file-language">JavaScript</span>
                    </div>
                    <div class="editor-actions">
                        <button class="editor-action">
                            üíæ Saved
                        </button>
                    </div>
                </div>
                <div class="editor-content">
                    <div class="line-numbers" id="line-numbers">
                        <div class="line-number">1</div>
                        <div class="line-number">2</div>
                        <div class="line-number">3</div>
                        <div class="line-number">4</div>
                    </div>
                    <textarea id="code-textarea" class="code-textarea" placeholder="Start typing your code...">// Welcome to AI Code Assistant
// Type "help" in terminal to see available commands

console.log("Hello, World!");</textarea>
                </div>
            </div>
        </div>
    </div>

    <script>
        class AICodeAssistant {
            constructor() {
                this.activePanel = 'terminal';
                this.files = new Map([
                    ['example.js', {
                        name: 'example.js',
                        content: '// Welcome to AI Code Assistant\n// Type "help" in terminal to see available commands\n\nconsole.log("Hello, World!");'
                    }],
                    ['README.md', {
                        name: 'README.md',
                        content: '# AI Code Assistant\n\nA CLI-style coding environment with AI assistance.\n\n## Commands:\n- `help` - Show available commands\n- `create <filename>` - Create a new file\n- `open <filename>` - Open a file in editor\n- `list` - List all files\n- `ai <question>` - Ask AI for coding help\n- `clear` - Clear terminal'
                    }]
                ]);
                this.currentFile = 'example.js';
                this.init();
            }

            init() {
                this.setupTabs();
                this.setupTerminal();
                this.setupFileExplorer();
                this.setupEditor();
                this.updateTimestamp();
            }

            setupTabs() {
                const tabs = document.querySelectorAll('.tab');
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const panel = tab.dataset.panel;
                        this.switchPanel(panel);
                    });
                });
            }

            switchPanel(panel) {
                // Update active tab
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector(`[data-panel="${panel}"]`).classList.add('active');

                // Update active panel
                document.querySelectorAll('.panel').forEach(p => {
                    p.classList.remove('active');
                });
                document.getElementById(panel).classList.add('active');

                this.activePanel = panel;
            }

            setupTerminal() {
                const form = document.getElementById('terminal-form');
                const input = document.getElementById('terminal-input');

                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const command = input.value.trim();
                    if (command) {
                        this.executeCommand(command);
                        input.value = '';
                    }
                });

                // Focus input
                input.focus();
            }

            executeCommand(command) {
                this.addMessage('user', `$ ${command}`);

                const [cmd, ...args] = command.split(' ');
                const arg = args.join(' ');

                switch (cmd.toLowerCase()) {
                    case 'help':
                        this.addMessage('system', 
                            'Available commands:\n' +
                            '  help                 - Show this help message\n' +
                            '  create <filename>    - Create a new file\n' +
                            '  open <filename>      - Open a file in editor\n' +
                            '  list                 - List all files\n' +
                            '  ai <question>        - Ask AI for coding help\n' +
                            '  run <filename>       - Simulate running a file\n' +
                            '  delete <filename>    - Delete a file\n' +
                            '  clear                - Clear terminal'
                        );
                        break;

                    case 'list':
                        const fileList = Array.from(this.files.keys()).map(name => `  ${name}`).join('\n');
                        this.addMessage('system', `Files:\n${fileList || '  (no files)'}`);
                        break;

                    case 'create':
                        if (!arg) {
                            this.addMessage('system', 'Usage: create <filename>');
                            break;
                        }
                        if (this.files.has(arg)) {
                            this.addMessage('system', `Error: File "${arg}" already exists`);
                            break;
                        }
                        this.files.set(arg, { name: arg, content: '// New file\n' });
                        this.updateFileList();
                        this.addMessage('system', `Created file: ${arg}`);
                        break;

                    case 'open':
                        if (!arg) {
                            this.addMessage('system', 'Usage: open <filename>');
                            break;
                        }
                        if (!this.files.has(arg)) {
                            this.addMessage('system', `Error: File "${arg}" not found`);
                            break;
                        }
                        this.currentFile = arg;
                        this.updateEditor();
                        this.switchPanel('editor');
                        this.addMessage('system', `Opened file: ${arg}`);
                        break;

                    case 'delete':
                        if (!arg) {
                            this.addMessage('system', 'Usage: delete <filename>');
                            break;
                        }
                        if (!this.files.has(arg)) {
                            this.addMessage('system', `Error: File "${arg}" not found`);
                            break;
                        }
                        this.files.delete(arg);
                        if (this.currentFile === arg) {
                            this.currentFile = this.files.keys().next().value || null;
                        }
                        this.updateFileList();
                        this.updateEditor();
                        this.addMessage('system', `Deleted file: ${arg}`);
                        break;

                    case 'run':
                        if (!arg) {
                            this.addMessage('system', 'Usage: run <filename>');
                            break;
                        }
                        if (!this.files.has(arg)) {
                            this.addMessage('system', `Error: File "${arg}" not found`);
                            break;
                        }
                        this.addMessage('system', `Running ${arg}...\n[Simulated output]\nProcess completed successfully.`);
                        break;

                    case 'ai':
                        if (!arg) {
                            this.addMessage('system', 'Usage: ai <your question>');
                            break;
                        }
                        this.handleAIQuery(arg);
                        break;

                    case 'clear':
                        document.getElementById('messages').innerHTML = '';
                        return;

                    default:
                        this.addMessage('system', `Unknown command: ${cmd}. Type "help" for available commands.`);
                }
            }

            handleAIQuery(query) {
                setTimeout(() => {
                    let response = '';
                    const lowerQuery = query.toLowerCase();
                    
                    if (lowerQuery.includes('function')) {
                        response = 'Here\'s a basic function template:\n\nfunction myFunction(param) {\n  // Your code here\n  return param;\n}\n\nOr using arrow function:\nconst myFunction = (param) => {\n  return param;\n};';
                    } else if (lowerQuery.includes('loop')) {
                        response = 'Common loop patterns:\n\n// For loop\nfor (let i = 0; i < array.length; i++) {\n  console.log(array[i]);\n}\n\n// For...of loop\nfor (const item of array) {\n  console.log(item);\n}\n\n// While loop\nwhile (condition) {\n  // code\n}';
                    } else if (lowerQuery.includes('async')) {
                        response = 'Async/await example:\n\nasync function fetchData() {\n  try {\n    const response = await fetch(\'https://api.example.com\');\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\'Error:\', error);\n  }\n}';
                    } else if (lowerQuery.includes('react')) {
                        response = 'React component template:\n\nimport React, { useState } from \'react\';\n\nfunction MyComponent() {\n  const [state, setState] = useState(\'\'');\n\n  return (\n    <div>\n      <h1>My Component</h1>\n      <input\n        value={state}\n        onChange={(e) => setState(e.target.value)}\n      />\n    </div>\n  );\n}\n\nexport default MyComponent;';
                    } else if (lowerQuery.includes('help')) {
                        response = 'I\'m your AI coding assistant! I can help with:\n\n‚Ä¢ JavaScript/TypeScript syntax and best practices\n‚Ä¢ React components and hooks\n‚Ä¢ Async programming patterns\n‚Ä¢ Debugging common issues\n‚Ä¢ Code optimization suggestions\n‚Ä¢ Algorithm explanations\n\nJust describe what you need help with!';
                    } else {
                        response = `I understand you're asking about: "${query}"\n\nHere are some general suggestions:\n‚Ä¢ Break down complex problems into smaller parts\n‚Ä¢ Use console.log() for debugging\n‚Ä¢ Check the browser console for errors\n‚Ä¢ Consider using modern JavaScript features\n\nFor more specific help, try asking about functions, loops, async code, or React components!`;
                    }
                    
                    this.addMessage('ai', response);
                }, 1000);
            }

            addMessage(type, content) {
                const messagesContainer = document.getElementById('messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message message-${type}`;
                
                const icon = type === 'user' ? 'üë§' : type === 'ai' ? 'ü§ñ' : 'üíª';
                const timestamp = new Date().toLocaleTimeString();
                
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <span class="message-icon">${icon}</span>
                        <span class="message-timestamp">${timestamp}</span>
                    </div>
                    <div class="message-content">
                        <pre>${content}</pre>
                    </div>
                `;
                
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            setupFileExplorer() {
                const fileList = document.getElementById('file-list');
                fileList.addEventListener('click', (e) => {
                    const fileItem = e.target.closest('.file-item');
                    if (fileItem) {
                        const fileName = fileItem.dataset.file;
                        this.currentFile = fileName;
                        this.updateEditor();
                        this.switchPanel('editor');
                        
                        // Update selected state
                        document.querySelectorAll('.file-item').forEach(item => {
                            item.classList.remove('selected');
                        });
                        fileItem.classList.add('selected');
                    }
                });
            }

            updateFileList() {
                const fileList = document.getElementById('file-list');
                fileList.innerHTML = '';
                
                for (const [fileName, file] of this.files) {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    fileItem.dataset.file = fileName;
                    
                    const extension = fileName.split('.').pop()?.toLowerCase();
                    if (extension) {
                        fileItem.classList.add(`file-${extension}`);
                    }
                    
                    fileItem.innerHTML = `
                        <div class="file-icon">üìÑ</div>
                        <span class="file-name">${fileName}</span>
                    `;
                    
                    fileList.appendChild(fileItem);
                }
            }

            setupEditor() {
                const textarea = document.getElementById('code-textarea');
                textarea.addEventListener('input', () => {
                    this.updateLineNumbers();
                    if (this.currentFile && this.files.has(this.currentFile)) {
                        this.files.get(this.currentFile).content = textarea.value;
                    }
                });

                textarea.addEventListener('scroll', () => {
                    const lineNumbers = document.getElementById('line-numbers');
                    lineNumbers.scrollTop = textarea.scrollTop;
                });

                this.updateEditor();
            }

            updateEditor() {
                const textarea = document.getElementById('code-textarea');
                const fileNameEl = document.getElementById('current-file-name');
                const languageEl = document.getElementById('file-language');
                
                if (this.currentFile && this.files.has(this.currentFile)) {
                    const file = this.files.get(this.currentFile);
                    textarea.value = file.content;
                    fileNameEl.textContent = file.name;
                    languageEl.textContent = this.getFileLanguage(file.name);
                } else {
                    textarea.value = '';
                    fileNameEl.textContent = 'No file';
                    languageEl.textContent = 'Text';
                }
                
                this.updateLineNumbers();
            }

            getFileLanguage(fileName) {
                const extension = fileName.split('.').pop()?.toLowerCase();
                switch (extension) {
                    case 'js':
                    case 'jsx':
                        return 'JavaScript';
                    case 'ts':
                    case 'tsx':
                        return 'TypeScript';
                    case 'css':
                        return 'CSS';
                    case 'html':
                        return 'HTML';
                    case 'md':
                        return 'Markdown';
                    case 'json':
                        return 'JSON';
                    case 'py':
                        return 'Python';
                    default:
                        return 'Text';
                }
            }

            updateLineNumbers() {
                const textarea = document.getElementById('code-textarea');
                const lineNumbers = document.getElementById('line-numbers');
                const lines = textarea.value.split('\n').length;
                
                lineNumbers.innerHTML = '';
                for (let i = 1; i <= lines; i++) {
                    const lineDiv = document.createElement('div');
                    lineDiv.className = 'line-number';
                    lineDiv.textContent = i;
                    lineNumbers.appendChild(lineDiv);
                }
            }

            updateTimestamp() {
                const timestamp = document.querySelector('.message-timestamp');
                if (timestamp) {
                    timestamp.textContent = new Date().toLocaleTimeString();
                }
            }
        }

        // Initialize the app
        window.addEventListener('DOMContentLoaded', () => {
            new AICodeAssistant();
        });
    </script>
</body>
</html>